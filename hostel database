QUERIES TO CREATE THE HOSTEL DATABASE:-
A.CREATION AND USE:
CREATE DATABASE HOSTELS;
USE HOSTELS;

B.CREATION OF TABLES:
1.STUDENT
CREATE TABLE STUDENT(
ROLL_NO VARCHAR(15) NOT NULL, 
FIRST_NAME VARCHAR(25) NOT NULL,
 LAST_NAME VARCHAR(25),
 ROOM_NO INT(4), 
 MAIL_ID VARCHAR(50),
 DOB DATE,
 AGE INT(3),
 CONTACT_NO BIGINT(13),
 ADD_HOUSE_NO INT(3),
 ADD_PIN INT(8) NOT NULL,
  ADD_STREET VARCHAR(15), 
  PRIMARY KEY(ROLL_NO));

 
 
 2.ADDRESS
  CREATE TABLE ADDRESS
(ADD_PIN INT(8)NOT NULL,
 ADD_CITY VARCHAR(30),
 ADD_STATE VARCHAR(40),
 ADD_COUNTRY VARCHAR(20),
 PRIMARY KEY(ADD_PIN));
DESCRIBE ADDRESS;

3.HOSTEL
CREATE TABLE HOSTEL
(H_NAME VARCHAR(15) NOT NULL,
CAPACITY INT(5) NOT NULL,
HOSTEL_NO INT(2) NOT NULL,
F_SPORTS VARCHAR(15),
F_NEWSPAP_NAME VARCHAR(20),
F_MESS_id VARCHAR(5),
VACANT_ROOMS INT(3),
 PRIMARY KEY(HOSTEL_NO));
DESCRIBE HOSTEL;

 
4.SKILLED EMPLOYEE
CREATE TABLE S_EMPLOYEE(
ID_NO VARCHAR(5) NOT NULL ,
F_NAME VARCHAR(20)NOT NULL,
L_NAME CHAR(20),
SEX CHAR(6),
AGE INT(3),
PH_NO BIGINT(12),
POST VARCHAR(15),
MAIL_ID VARCHAR(50),
SALARY INT(6),
PRIMARY KEY(ID_NO));
DESCRIBE S_EMPLOYEE;
5.UNSKILLED EMPLOYEE
CREATE TABLE U_EMPLOYEE(
ID_NO VARCHAR(5) NOT NULL ,
F_NAME VARCHAR(20)NOT NULL,
L_NAME CHAR(20),
SEX CHAR(6),
AGE INT(3),
PH_NO BIGINT(12),
WORK_AS VARCHAR(15),
CONTACTOR VARCHAR(50),
WAGES INT(6),
PRIMARY KEY(ID_NO));
DESCRIBE U_EMPLOYEE;

6.STUDENT_IN_OUT
CREATE TABLE STUDENT_IN_OUT(
RECORD_NO INT(5),
ROLL_NO VARCHAR(15)NOT NULL ,
STUDENT_ARR TIMESTAMP,
STUDENT_DEP TIMESTAMP,
PRIMARY KEY(RECORD_NO));
DESCRIBE STUDENT_IN_OUT;

7.VISITOR
CREATE TABLE VISITOR(
RECORD_NO INT(5),
F_NAME VARCHAR(15)NOT NULL ,
L_NAME VARCHAR(15) ,
VISITOR_ARR TIMESTAMP,
VISITOR_DEP TIMESTAMP,
VISITOR_CONTACT BIGINT(12),
HOSTEL_NO INT(2),
PRIMARY KEY(RECORD_NO));
DESCRIBE STUDENT_IN_OUT;

 
8.SKILLED EMPLOYEE TRANSACTION
CREATE TABLE S_EMPLOYEE_TRAN(
ID_NO VARCHAR(5),
ATTENDENCE VARCHAR(2),
HOSTEL_NO INT(2),
WORKING_DAYS INT(2),
PRIMARY KEY (ID_NO));
DESCRIBE S_employee_tran;


9.UNSKILLED EMPLOYEE TRANSACTION
CREATE TABLE U_employee_tran(
ID_NO VARCHAR(5),
ATTENDENCE VARCHAR(2),
HOSTEL_NO INT(2),
WORKING_DAYS INT(2),
PRIMARY KEY (ID_NO));
DESCRIBE U_employee_tran;
10.STUDENT TRANSACTION
CREATE TABLE STUDENT_tran(
ROLL_NO VARCHAR(15),
ATTENDENCE VARCHAR(2),
HOSTEL_NO INT(2),
LIVING_DAYS INT(2),
PRIMARY KEY (ROLL_NO));
DESCRIBE STUDENT_tran;

11.INTERNET
CREATE TABLE INTERNET(
HOSTEL_NO INT(2),
ROOM_NO INT(4),
IP_ADDRESS VARCHAR(16),
PRIMARY KEY(HOSTEL_NO,ROOM_NO));
DESCRIBE INTERNET;

12.MESS_ADMIN
CREATE TABLE MESS_ADMIN(
MESS_ID VARCHAR(5),
CATARER VARCHAR(15),
REPRESENTATIVE VARCHAR(15),
PRIMARY KEY(MESS_ID));
DESCRIBE MESS_ADMIN;

13.MESS_MENU
CREATE TABLE MESS_MENU(
MESS_ID VARCHAR(5),
M_DAY VARCHAR(10),
M_TIME VARCHAR(10),
MENU VARCHAR(80),
PRIMARY KEY(MESS_ID,M_DAY,M_TIME));
DESCRIBE MESS_MENU;


C.ALTERING AND REFERENCING(FOREIGN KEY):
1.VISITOR-HOSTEL(HOSTEL NO)
ALTER TABLE `hostels`.`visitor` ADD CONSTRAINT `HOSTEL_NO` FOREIGN KEY (`HOSTEL_NO`) 
REFERENCES `hostels`.`hostel`(`HOSTEL_NO`) ON UPDATE CASCADE ON DELETE CASCADE; 

2.STUDENT-ADDRESS(PIN)
ALTER TABLE `hostels`.`student` ADD CONSTRAINT `PIN` FOREIGN KEY (`ADD_PIN`) 
REFERENCES `hostels`.`address`(`ADD_PIN`) ON UPDATE CASCADE ON DELETE CASCADE;

3.HOSTEL-MESS ADMIN(MESS ID)
ALTER TABLE `hostels`.`hostel` ADD CONSTRAINT `MESS` FOREIGN KEY (`F_MESS_id`)
 REFERENCES `hostels`.`mess_admin`(`MESS_ID`) ON UPDATE CASCADE ON DELETE CASCADE; 

 4.MESS ADMIN-MESS MENU(MESS_ID)
ALTER TABLE `hostels`.`mess_menu` ADD CONSTRAINT `MESS_ID` FOREIGN KEY (`MESS_ID`)
 REFERENCES `hostels`.`mess_admin`(`MESS_ID`) ON UPDATE CASCADE ON DELETE CASCADE; 

 
 

5.STUDENT- STUDENT_IN_OUT(ROLL NO)
ALTER TABLE `hostels`.`student_in_out` ADD CONSTRAINT `ROLL_NO` FOREIGN KEY (`ROLL_NO`) REFERENCES
 `hostels`.`student`(`ROLL_NO`) ON UPDATE CASCADE ON DELETE CASCADE; 

 
 6.SKILLED EMPLOYEE TRANSACTION-SKILLED EMPLOYEE-HOSTEL(ID_NO,HOSTEL NO)
ALTER TABLE `hostels`.`S_employee_tran` ADD CONSTRAINT `ATTENDENCE1` FOREIGN KEY (`ID_NO`) REFERENCES
 `hostels`.`s_employee`(`ID_NO`) ON UPDATE CASCADE ON DELETE CASCADE,
 ADD CONSTRAINT `ATTENDENCE3` FOREIGN KEY (`HOSTEL_NO`) 
 REFERENCES `hostels`.`hostel`(`HOSTEL_NO`) ON UPDATE CASCADE ON DELETE CASCADE; 

7.UNSKILLED EMPLOYEE TRANSACTION-UNSKILLED EMPLOYEE-HOSTEL(ID_NO,HOSTEL NO)

ALTER TABLE `hostels`.`U_employee_tran` ADD CONSTRAINT `ATTENDENCE2` FOREIGN KEY (`ID_NO`) REFERENCES
 `hostels`.`U_employee`(`ID_NO`) ON UPDATE CASCADE ON DELETE CASCADE,
 ADD CONSTRAINT `ATTENDENCE4` FOREIGN KEY (`HOSTEL_NO`) 
 REFERENCES `hostels`.`hostel`(`HOSTEL_NO`) ON UPDATE CASCADE ON DELETE CASCADE; 
 

8.INTERNET-HOSTEL(HOSTEL NO) 
ALTER TABLE `hostels`.`internet` ADD CONSTRAINT `HSTN` FOREIGN KEY (`HOSTEL_NO`) REFERENCES
 `hostels`.`hostel`(`HOSTEL_NO`) ON UPDATE CASCADE ON DELETE CASCADE; 

 
9.STUDENT TRANSACTION-STUDENT-HOSTEL(ROLL NO, HOSTEL NO) 
ALTER TABLE `hostels`.`student_tran` ADD CONSTRAINT `ROLL_NO1` FOREIGN KEY (`ROLL_NO`) REFERENCES
 `hostels`.`student`(`ROLL_NO`) ON UPDATE CASCADE ON DELETE CASCADE,
 ADD CONSTRAINT `HOST` FOREIGN KEY (`HOSTEL_NO`) REFERENCES
 `hostels`.`hostel`(`HOSTEL_NO`) ON UPDATE CASCADE ON DELETE CASCADE; 

 
 
 
D.INSERSION OF DATA
1.ADDRESS
 INSERT INTO ADDRESS VALUES(423203, 'sadar', 'peshawar', 'Pakistan');
SELECT * FROM ADDRESS;


 

2.STUDENT
INSERT INTO STUDENT VALUES
('IPG2014127','Abdul','mateen',145,	'mateen@gmail.com','1996-09-28',20,9754054897,8,423203,'chitral');

SELECT* FROM STUDENT;

3.SKILLED EMPLOYEE
INSERT INTO S_employee VALUES('A-7',	'kaleem',	'Ullah',	'MALE',28,9993282615,	'Supervisor','amin88@gmail.com',14000);


4.UNSKILLED EMPLOYEE
INSERT INTO U_employee VALUES('A-5',	'amin'	,'khan','MALE'	,31,9039157516,	'H_Security','JUPITAR',8000);



5.MESS ADMIN
INSERT INTO MESS_ADMIN VALUES('M-1','nabi','ali');



6.HOSTEL
INSERT INTO hostel VALUES('khan',313,1,'TT','basit','M-1',20);


7.UNSKILLED EMPLOYEE TRANSACTION
INSERT INTO U_employee_tran VALUES('A-5','P',2,26);

8.INTERNET
INSERT INTO INTERNET VALUES(1,20,'192.168.64.241');

 
9.STUDENT TRANSACTION
INSERT INTO STUDENT_tran VALUES('IPG2011110','P',2,26);

10.STUDENT-IN-OUT
INSERT INTO `hostels`.`student_in_out` (`RECORD_NO`, `ROLL_NO`, `STUDENT_ARR`, `STUDENT_DEP`) 

 

 11.VISITOR
 INSERT INTO `hostels`.`visitor` (`RECORD_NO`, `F_NAME`, `L_NAME`, `VISITOR_ARR`, `VISITOR_DEP`, `VISITOR_CONTACT`, `HOSTEL_NO`)
 
 12.MESS-MENU
 INSERT INTO `hostels`.`mess_menu` (`MESS_ID`) VALUES ('M-1'); 
INSERT INTO `hostels`.`mess_menu` (`MESS_ID`) VALUES ('M-2'); 
INSERT INTO `hostels`.`mess_menu` (`MESS_ID`) VALUES ('M-3'); 
 UPDATE `hostels`.`mess_menu` SET `M_DAY` = 'MON' WHERE `MESS_ID` = 'M-1' AND `M_DAY` = '' AND `M_TIME` = ''; 
 UPDATE `hostels`.`mess_menu` SET `MENU` = 'PAV- BHAJI' WHERE `MESS_ID` = 'M-3' AND `M_DAY` = 'WED' AND `M_TIME` = 'BREAKFAST'; 
 INSERT INTO `hostels`.`mess_menu` (`MESS_ID`, `M_DAY`, `M_TIME`, `MENU`) VALUES ('M-3', 'THURS', 'BREAKFAST', 'PARATHA AALOO'); 
 INSERT INTO `hostels`.`mess_menu` (`MESS_ID`, `M_DAY`, `M_TIME`, `MENU`) VALUES ('M-3', 'SUN', 'BREAKFAST', 'AALO PARATHA');
13.SKILLED EMPLOYEE TRANSACTION
INSERT INTO S_employee_tran VALUES('A-1','P',1,24);
INSERT INTO S_employee_tran VALUES('A-2','P',2,24);
INSERT INTO S_employee_tran VALUES('A-3','P',3,20);
 
QUERIES TO MANIPULATE DATA:-
1.To select student info from room no-
   SELECT * FROM student WHERE ROOM_NO=145 ;
2.To see the no. of rooms vacant-  
 SELECT vacant_room FROM hostel WHERE HOSTEL_NO =1;
3.The info of employee of particular department-
    select * from U_EMPLOYEE where and WORK_AS ='carpenter';
4.To get total info of hostel-
     SELECT * FROM hostel WHERE hostel_no=1 ; 
5.To get info about supervisior of a hostel-
      select salary from S_EMPLOYEE where and POST ='Supervisor';
6.To get salary info of a particular skilled employee-
      SELECT salary FROM S_EMPLOYEE WHERE POST ='Supervisor';
7.To check if an employee is present on a particular day-
      SELECT attendance FROM S_EMPLOYEE_TRAN WHERE ID_NO=’A-1’
8.To calculate the no. of working days in a month of an employee-
SELECT* FROM U_EMPLOYEE;      
SELECT working_days FROM U_EMPLOYEE_TRAN WHERE ID_NO=’A-6’;
9.To see the MESS MENU of a particular hostel-
       SELECT F_MESS_ID FROM HOSTEL;
       SELECT MENU FROM MESS_MENU WHERE MESS_ID=’M-1’	;

10.To get mess admin info of a particular hostel-
	SELECT F_MESS_ID FROM HOSTEL;
       SELECT CATARER,REPRESENTATIVE FROM MESS_ADMIN WHERE MESS_ID=’M-2’	;
11.To get info of visitors to a particular hostel-
      SELECT *FROM VISITOR WHERE hostel_no=2 ;
12.To get the arrival and departure time of a student from a hostel-
       SELECT STUDENT_IN,STUDENT_OUT FROM STUDENT_IN_OUT WHERE roll_no='IPG2013109';
13.To check the guard present at a particular hostel-
       SELECT ID_NO, f_name,l_name,PH_NO FROM U_employee WHERE WORK_AS='H_security';
	SELECT * FROM U_EMPLOYEE_TRAN WHERE ATTENDENCE=’P’ AND ID_NO=’A-6’;
14. To check total capacity of a particular hostel-
        SELECT CAPACITY,H_NAME FROM hostel WHERE hostel_no=2;
15.To check if a student is present in hostel or on leave on a particular-
        SELECT attendance,HOSTEL_NO FROM student_TRAN WHERE roll_no='IPG2014127';
16.CHANGE THE ATTRIBUTE NAME;
 ALTER TABLE `hostel`.`address` CHANGE `CITY` `ADD_CITY` VARCHAR(30);
